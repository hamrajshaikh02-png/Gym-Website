<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FitNFine Gallery</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{ background:#f4f6f9; }

.section-box{
  background:white;
  padding:50px 0;
  border-bottom:1px solid #eee;
}

.section-title{
  font-size:30px;
  font-weight:800;
  border-left:5px solid #dc3545;
  padding-left:15px;
  margin-bottom:10px;
}

.section-desc{ color:#666; margin-bottom:25px; }

.gallery-img{
  width:100%;
  height:240px;
  object-fit:cover;
  border-radius:10px;
  transition:.3s;
}

.gallery-img:hover{
  transform:scale(1.03);
}
</style>
</head>

<body>

<%- include("navbar") %>

<section class="py-5 mt-5 bg-dark text-white text-center">
  <div class="container">
    <h1 class="fw-bold">Fit<span class="text-danger">N</span>Fine Gallery</h1>
    <p>See our workouts, trainers and amazing fitness transformations</p>
  </div>
</section>

<%
function renderSection(section){
  let imgs = gallery.filter(x=>x.section===section);
  let i=0;

  while(i<imgs.length){
    let remain = imgs.length - i;
    let row=[], col="col-md-3";

    if(remain>=9 || remain==6 || remain==5 || remain==3){
      row = imgs.slice(i,i+3); col="col-md-4"; i+=3;
    }
    else if(remain==8 || remain==7 || remain==4){
      row = imgs.slice(i,i+4); col="col-md-3"; i+=4;
    }
    else if(remain==2){
      row = imgs.slice(i,i+2); col="col-md-6"; i+=2;
    }
    else{
      row = imgs.slice(i,i+1); col="col-md-6 mx-auto"; i+=1;
    }
%>

<div class="row justify-content-center mb-3">
  <% row.forEach(img=>{ %>
    <div class="<%= col %> p-2">
      <img src="/images/<%= img.image %>" loading="lazy" class="gallery-img">
    </div>
  <% }) %>
</div>

<% }} %>

<section class="section-box">
<div class="container">
<h2 class="section-title">Workout Zone</h2>
<p class="section-desc">High intensity cardio, strength training and group workouts to push your limits.</p>
<% renderSection("workout"); %>
</div>
</section>

<section class="section-box">
<div class="container">
<h2 class="section-title">Cardio Zone</h2>
<p class="section-desc">Boost endurance, burn calories and improve heart health with high-energy cardio workouts and modern equipment.</p>
<% renderSection("cardio"); %>
</div>
</section>

<section class="section-box">
<div class="container">
<h2 class="section-title">Strength Zone</h2>
<p class="section-desc">Build muscle, increase power and transform your body with advanced weight training and strength-focused workouts.</p>
<% renderSection("strength"); %>
</div>
</section>

<section class="section-box">
<div class="container">
<h2 class="section-title">Yoga Zone</h2>
<p class="section-desc">Improve flexibility, balance and inner peace with guided yoga sessions designed for relaxation, strength and mindfulness.</p>
<% renderSection("yoga"); %>
</div>
</section>

<%- include("footer") %>

</body>
</html>
